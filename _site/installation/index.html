<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Getting Started</title>
  <meta name="description" content="Generalized RAcing Intelligence Competition (GRAIC), is a synthesis competition for intelligent racing.
">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="Generalized RAcing Intelligence Competition (GRAIC), is a synthesis competition for intelligent racing.
" />
  <meta property="og:url" content="http://localhost:4000/installation/">
  <meta property="og:site_name" content="GRAIC '22" />
  <meta property="og:title" content="Getting Started" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://localhost:4000/assets/logo.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Getting Started">
  <meta name="twitter:description" content="Generalized RAcing Intelligence Competition (GRAIC), is a synthesis competition for intelligent racing.
">
  <meta name="twitter:image" content="http://localhost:4000/assets/logo.png">
  <meta name="twitter:url" content="http://localhost:4000/installation/">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/installation/">
	<link rel="alternate" type="application/rss+xml" title="GRAIC '22" href="http://localhost:4000/feed.xml" />

	<!-- Tooltips -->
	<script type="text/javascript">
		window.tooltips = []
	</script>

  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/logo.png" alt="GRAIC '22">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
				
	

	

	

	

	
	<li class="nav-link"><a href="/submissions/">Submissions</a>
	

	
	<li class="nav-link"><a href="/archive/">Archive</a>
	

	
	<li class="nav-link"><a href="/outreach/">Past Events</a>
	

	
	<li class="nav-link"><a href="/documentation/">Docs</a>
	

	
	<li class="nav-link"><a href="/about/">About</a>
	

	
	<li class="nav-link"><a href="/installation/">Getting Started</a>
	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	


        <a href="https://github.com/PoPGRI/Race">Code</a>
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div>

<div class="site-header-container has-cover" style="background-image: url(/assets/baseline3.gif);">
  <div class="scrim has-cover">
    <header class="site-header">
      <h1 class="title">GRAIC '22</h1>
      <p class="subtitle">A competition for intelligent racing</p>
    </header>
  </div>
</div>

<div class="wrapper">
  
  <div>
      
      
  </div>
  
  <div>
      
      
  </div>
  
  <div>
      
      
          
          <h1>Installing GRAIC</h1>
          
          <p><p>There are two ways to use GRAIC.
You can either use our AWS image or install our docker image locally.
The instructions for both installation methods can be found on this page.</p>
</p>
      
  </div>
  
  <div>
      
      
          
          <h1>Running GRAIC on AWS</h1>
          
          <p><h2 id="requirements">Requirements</h2>
<ul>
  <li>AWS account</li>
  <li>NoMachine client, which can be downloaded from <a href="https://www.nomachine.com/">https://www.nomachine.com/</a></li>
</ul>

<h2 id="video-tutorial">Video Tutorial</h2>
<p>(A written tutorial is included after this video tutorial)</p>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/nqaC1ZXb4H0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</center>

<h2 id="step-1-create-an-ec2-instance">Step 1. Create an EC2 Instance</h2>
<ul>
  <li>Go to your AWS EC2 dashboard. On the top right corner, change the region to “US East (N. Virginia) us-east-1”. This step is necessary because our AMI is hosted in this region. If your connection to this region is slow and you prefer another region, please contact us, and we will copy the AMI to your preferred region.</li>
  <li>Locate the “Launch instances” button. Click on it and then follow the instructions below.</li>
</ul>

<h3 id="step-11-choose-ami">Step 1.1 Choose AMI.</h3>
<p>Search for “GRAIC-2022” and you should be able to find some AMIs in “Community AMIs”, select the latest one (the one with largest version number).
<img src="/Race/assets/ami.png" /></p>

<h3 id="step-12-choose-an-instance-type">Step 1.2 Choose an Instance Type</h3>
<p>Choose “g4dn.4xlarge”. You can also choose “g4dn.8xlarge” if you need more CPUs.</p>

<h3 id="step-13-configure-instance-details">Step 1.3 Configure Instance Details</h3>
<p>Leave this section unchanged.</p>

<h3 id="step-14-add-storage">Step 1.4 Add Storage</h3>
<p>Leave this section unchanged.</p>

<h3 id="step-15-add-tags">Step 1.5 Add Tags</h3>
<p>Leave this section unchanged.</p>

<h3 id="step-16-configure-security-group">Step 1.6 Configure Security Group</h3>
<p>Click on “Add Rule” and add port 4000 as shown in the figure. Please note that we set the sources for both ports to “Anywhere” for simplicity, but it would be safer to restrict the sources to a smaller set, for example, the subnet owned by your university.
<img src="/Race/assets/portconfig.png" /></p>

<h3 id="step-17-review-and-launch">Step 1.7 Review and launch</h3>
<p>Finally, click on the “Launch” button which should appear at the lower right corner.
<img src="/Race/assets/launch.png" /></p>

<p>A pop-up window should appear and ask you to select an existing key pair. If you don’t have an existing key pair, select “Create a new key pair”, give it a name, and “Download Key Pair”. Then “Launch Instances”.
<img src="/Race/assets/aws_key.png" /></p>

<p>It might take several minutes to set up. Locate the new instance in your EC2 dashboard, and you can find its Public IPv4 address there.</p>

<h2 id="step-2-gui-via-nomachine">Step 2. GUI via NoMachine</h2>
<p>Open NoMachine, click on “Add” which appears at the upper left corner.
<img src="/Race/assets/nomachine_login.png" /></p>

<p>Choose whatever name you like, and fill “Host” with your instance’s Public IPv4 address. Set “Port” to 4000 and use the NX protocol.
<img src="/Race/assets/nomachine_address.png" /></p>

<p>Click on “Configuration” on the left. Select “Use key-based authentication with a key you provide” and click on the “Modify” button. Then, select the key file downloaded in Step 1.7. Go back and click on “Connect”. If it saies “key is missing”, click on the “Modify” button, select the key you downloaded, and try again. This might be a bug of NoMachine.
<img src="/Race/assets/nomachine_config.png" /></p>

<p>If asked, the username is “ubuntu”. After logging into the machine, open a terminal, inside the home directory run <code class="language-plaintext highlighter-rouge">./fixCarla.sh</code>. After it finishes, you should be able to use carla by running <code class="language-plaintext highlighter-rouge">~/workspace/carla-simulator/CarlaUE4.sh</code>. All files are installed in the “~/workspace” directory. Enjoy!</p>
</p>
      
  </div>
  
  <div>
      
      
          
          <h1>Local Installation</h1>
          
          <p><p>This page will guide you through the steps necessary to setup the software for participating in GRAIC. Before starting, here is the system we recommend you to use.</p>

<h3 id="system-recommendation">System recommendation</h3>

<p>GRAIC 2021 uses the <a href="https://carla.org/">CARLA simulator</a>, <a href="https://www.ros.org/">ROS Noetic</a> and CARLA is built on the <a href="https://www.unrealengine.com/en-US/">Unreal Engine</a>. That is why you will want to run the simulator on a machine with a at least 16GB RAM and a powerful GPU.</p>

<h4 id="hardware">Hardware</h4>
<ul>
  <li>Intel i7 gen / i9 gen / AMD ryzen 7 / ryzen 9, with at least 16 GB RAM</li>
  <li>Nvidia RTX 2070 / 2080 / 3070 / 3080 with 4GB GPU video RAM</li>
</ul>

<h4 id="software">Software</h4>
<ul>
  <li>Ubuntu 20.04</li>
  <li>Carla 0.9.11</li>
  <li>ROS Noetic</li>
  <li>Python 3.7</li>
  <li>Open GL 3.3 or above and DirectX 10</li>
</ul>

<p>We will not be able to provide much support for running GRAIC on other software configurations.</p>

<h3 id="step-0-install-the-graic-docker">Step 0. Install the GRAIC Docker</h3>

<p>The instructions for CARLA installation can be found <a href="https://carla.readthedocs.io/en/latest/build_linux/">here</a>. It is recommended to use our <a href="https://hub.docker.com/r/pricejiang/graic">GRAIC Docker</a> image. The instructions here are for GRAIC installation on Ubuntu 20.04.</p>

<p>First, ensure that you are using the NVIDIA driver. This can be done by going to “Additional Drivers” in “Software and Updates”.</p>

<p><img src="/Race/assets/driver_settings.png" /></p>

<ol>
  <li>Install Docker CE. Instructions can be found here: <a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></li>
  <li>Install NVIDIA-Docker2. Instructions can be found here:<a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#docker">https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#docker</a></li>
  <li>Pull the GRAIC Docker image: <code class="language-plaintext highlighter-rouge">docker pull pricejiang/graic:latest</code></li>
</ol>

<p>Note that you may have to use the <code class="language-plaintext highlighter-rouge">sudo</code> command to run docker.
This may take a while.</p>

<h3 id="step-1-download-the-source-code-and-map">Step 1. Download the source code and map</h3>

<p>Now that you have installed the GRAIC docker, you should download the source code and map for GRAIC.
These can be found as a <a href="https://github.com/PoPGRI/Race/releases/tag/0.1.2">release</a> on our GitHub.
Both the source code and map are zip files, so you will need to uncompress these files.
You can extract them to any directory.</p>

<h3 id="step-2-run-the-graic-docker-container">Step 2. Run the GRAIC Docker container</h3>

<p>Now that everything has been installed, you can now run the GRAIC docker image.
If everything works properly, once the GRAIC container is running, the baseline solution can also be run.
To run the GRAIC Docker container, use the following instructions.</p>

<p>Replace <code class="language-plaintext highlighter-rouge">[PATH-TO-THE-DOWNLOADED-CODE]</code> with the path to the source code and <code class="language-plaintext highlighter-rouge">[PATH-TO-THE-DOWNLOADED-MAP]</code> with the path to the downloaded map.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run --name graic_con --privileged --rm --gpus all --env NVIDIA_DISABLE_REQUIRE=1 -it --net=host -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix:rw -v [PATH-TO-THE-DOWNLOADED CODE]/src:/home/carla/graic-workspace/src:rw -v [PATH-TO-THE-DOWNLOADED-MAP]/map_package/:/home/carla/carla-simulator/CarlaUE4/Content/map_package/:ro pricejiang/graic carla-simulator/CarlaUE4.sh -opengl
</code></pre></div></div>
<p>Note that you may need to use the <code class="language-plaintext highlighter-rouge">sudo</code> command to run the Docker image.</p>

<p>A window called CarlaUE4 will open.</p>

<p><img src="/Race/assets/carlaue4.png" /></p>

<h3 id="step-3-run-the-baseline-solution">Step 3. Run the baseline solution</h3>

<p>Now that the GRAIC Docker container is running, you should test that everything is working properly using the baseline solution.</p>

<p>You can now access the bash of the running container using <code class="language-plaintext highlighter-rouge">docker exec -it graic_con /bin/bash</code> in a new terminal.
If you have connected to the bash properly, then you will see the id of the container followed by <code class="language-plaintext highlighter-rouge">$:</code>.</p>

<p>You can run our baseline solution using the following commands.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd graic-workspace
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>catkin_make
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>. devel/setup.bash
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roslaunch race carla_single.launch num_wheels:=4 model_type:=model_free
</code></pre></div></div>

<p>A vehicle should appear in the CARLA window.</p>

<p><img src="/Race/assets/baseline.png" /></p>

<p>Now open a new and use <code class="language-plaintext highlighter-rouge">docker exec -it graic_con /bin/bash</code> and run the following in the CARLA container.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd graic-workspace/
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>. devel/setup.bash
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd src/race/src/
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python baseline.py
</code></pre></div></div>
<p>The vehicle should start moving and a score should appear.</p>

<p>You are now ready to start creating controllers for GRAIC!</p>

<h3 id="step-4-create-your-own-controller">Step 4. Create your own controller</h3>

<p>We have provided a template controller for you to get started on creating your own controller.
This template can be found on our <a href="https://github.com/PoPGRI/Race">GitHub</a> and it is called <code class="language-plaintext highlighter-rouge">src/race/src/starter.py</code>.
You will not have to edit any part of the file other than line 66. You should replace <code class="language-plaintext highlighter-rouge">TODO Add your decision logic here</code> with the decision logic of your controller.</p>

<p>To further understand how to create controllers, take a look at the interfaces described on our <a href="https://popgri.github.io/Race/documentation/">docs</a> page.</p>
</p>
      
  </div>
  
</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">GRAIC '22</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        <a href="/">Home</a>
				
	

	

	

	

	
	<li class="nav-link"><a href="/submissions/">Submissions</a>
	

	
	<li class="nav-link"><a href="/archive/">Archive</a>
	

	
	<li class="nav-link"><a href="/outreach/">Past Events</a>
	

	
	<li class="nav-link"><a href="/documentation/">Docs</a>
	

	
	<li class="nav-link"><a href="/about/">About</a>
	

	
	<li class="nav-link"><a href="/installation/">Getting Started</a>
	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	


      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:graic2021@gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">graic2021@gmail.com</span>
          </a>
        </li>

        
          
        
          
        
          
          <li>
            <a href="https://github.com/PoPGRI" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">PoPGRI</span>
            </a>
          </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

      </ul>
    </div>

    <div class="site-signature">
      <!-- <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p> -->
      <p class="text">Generalized RAcing Intelligence Competition (GRAIC), is a synthesis competition for intelligent racing.
</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/js/lightbox.min.js"></script>
<script src="//unpkg.com/popper.js@1"></script>
<script src="//unpkg.com/tippy.js@5"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });

	// Enable tooltips via Tippy.js
	if (Array.isArray(window.tooltips)) {
		window.tooltips.forEach(function(tooltip) {
			var selector = tooltip[0];
			var config = tooltip[1];
			tippy(selector, config);
		})
	}
});

</script>






  </body>

</html>
