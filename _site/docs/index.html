<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Docs</title>
  <meta name="description" content="Generalized RAcing Intelligence Competition (GRAIC), is a synthesis competition for intelligent racing.
">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="Generalized RAcing Intelligence Competition (GRAIC), is a synthesis competition for intelligent racing.
" />
  <meta property="og:url" content="http://localhost:4000/docs/">
  <meta property="og:site_name" content="GRAIC" />
  <meta property="og:title" content="Docs" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://localhost:4000/assets/logo.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Docs">
  <meta name="twitter:description" content="Generalized RAcing Intelligence Competition (GRAIC), is a synthesis competition for intelligent racing.
">
  <meta name="twitter:image" content="http://localhost:4000/assets/logo.png">
  <meta name="twitter:url" content="http://localhost:4000/docs/">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/docs/">
	<link rel="alternate" type="application/rss+xml" title="GRAIC" href="http://localhost:4000/feed.xml" />

	<!-- Tooltips -->
	<script type="text/javascript">
		window.tooltips = []
	</script>

  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/logo.png" alt="GRAIC">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
				
	

	
	<li class="nav-link"><a href="/docs/">Docs</a>
	

	
	<li class="nav-link"><a href="/installation/">Getting Started</a>
	

	
	<li class="nav-link"><a href="/outreach/">Outreach</a>
	

	
	<li class="nav-link"><a href="/about/">About</a>
	

	

	

	

	

	

	

	

	

	

	

	

	

	


        <a href="https://github.com/PoPGRI/Race">Code</a>
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div>

<div class="site-header-container has-cover" style="background-image: url(/assets/headerimage2.png);">
  <div class="scrim has-cover">
    <header class="site-header">
      <h1 class="title">GRAIC</h1>
      <p class="subtitle">A competition for intelligent racing</p>
    </header>
  </div>
</div>

<div class="wrapper">
  <i>This competition is currently under construction. The information on this page is subject to change.</i>
</div>

<div class="wrapper">
  
  <div>
      
      <h1>Docs</h1>
      
      <p><p>This page provides a tutorial on how to use GRAIC for developing your intelligent autonomous racing agent.</p>

<p>The GRAIC framework has several modules, however competitors only need to be concerned with three: (i) perception, (ii) decision &amp; control, and (iii) vehicle inputs types. As competitors, you will be provided with the perception and vehicle API and you will build your own decision &amp; control module.</p>

<p>A diagram of the module interfaces is shown below. The decision and control module built by the competitors will be just plugged into the rest of the system. Therefore, the decision &amp; control module must take in only the perception inputs provided by the perception module and output only the inputs required by the vehicle system.</p>

<p><img src="/Race/assets/interfaces.png" /></p>

<p>The perception module publishes the rostopics <code class="highlighter-rouge">location</code>, <code class="highlighter-rouge">obstacles</code>, <code class="highlighter-rouge">lane_markers</code>, and <code class="highlighter-rouge">environment_obj_bb</code>. The waypoints that the competitors must reach are also provided in the rostopic <code class="highlighter-rouge">waypoint</code>. The decision &amp; control module should publish the rostopics  <code class="highlighter-rouge">ackermann_control</code> <strong>or</strong> <code class="highlighter-rouge">vehicle_control</code>. Further details of these topics are given below.
 Again, this information shows how the GRAIC framework works, but the competitors only need to build the blue module.</p>

<p>Note: For all the rostopics in this document, the full rostopic name should be <code class="highlighter-rouge">/carla/&lt;vehicle-name&gt;/&lt;topic-name&gt;</code>. E.g. <code class="highlighter-rouge">/carla/ego_vehicle/location</code> will provide location information for the car named “ego_vehicle”</p>
</p>
  </div>
  
  <div>
      
      <h1>Perception</h1>
      
      <p><p>The perception module consists of several rostopics. The information is either static or dynamic. That is, <span style="color:red"><em>static  information</em></span> will not change over time while <span style="color:blue"><em>dynamic  information</em></span> may change. These rostopics are updated at a rate of 20 Hz.</p>

<h3 id="dynamic-obstacles-dynamic">Dynamic obstacles (<span style="color:blue">Dynamic</span>)</h3>
<p>The perception module returns all the obstacles within the sensing radius of the vehicle. Each obstacle has a type, id, and vertices.</p>
<ul>
  <li>Vertices: The location of the vertices of the bounding box of each obstacle given in \([x, y, z]\) global coordinates</li>
  <li>Type: The type of obstacle detected (ie. “pedestrian”, “car”, “motorcycle”, etc.)</li>
  <li>ID: An identifier for each obstacle (ie.  “1”, etc.). This identifier remains the same across all time steps.</li>
</ul>

<p>These obstacles are published to the rostopic <code class="highlighter-rouge">obstacles</code>.</p>

<h3 id="static-obstacles-objects-static">Static obstacles objects (<span style="color:red">Static</span>)</h3>
<p>The environment objects include static obstacles that define the racing environment. This includes fences, sidewalks, buildings, and any other large objects. These objects are provided to the competitor as a list where each entry consists of the following:</p>
<ul>
  <li>Vertices: The location of the vertices of the bounding box of each obstacle given in \([x, y, z]\) global coordinates</li>
  <li>Type: The type of obstacle detected (ie. “sidewalk”, “fence”, “building”, etc.)</li>
  <li>ID: An identifier for each obstacle (ie.  “1”, etc.). This remains the same across all time steps.</li>
</ul>

<p>These objects are also published to the rostopic <code class="highlighter-rouge">obstacles</code>.</p>

<h3 id="location-dynamic">Location (<span style="color:blue">Dynamic</span>)</h3>
<p>The location rostopic returns the state of the vehicle as the position, rotation, and velocity of the vehicle.
The position is given as [x, y, z] in ENU coordinates. The rotation is given as [\( \theta_x,  \theta_y, \theta_z\)] in radians. The velocity of the vehicle is given as [\(v_x, v_y\)].</p>

<p>The location is published to the rostopic <code class="highlighter-rouge">location</code></p>

<h3 id="lane-markers-static">Lane markers (<span style="color:red">Static</span>)</h3>
<p>The lane markers (or <em>lane markers</em>) describe the current lane that the vehicle is in.</p>

<p>The lane markers are published to the rostopic <code class="highlighter-rouge">lane_markers</code>.</p>

<h3 id="milestones">Milestones</h3>
<p>These are the waypoints along the track that the vehicle must pass. These milestones are given in \([x,y,z]\) global coordinates and appear as a green gate on the map. The competitors must reach these milestones to score.</p>

<p>The milestones are published to the rostopic <code class="highlighter-rouge">waypoints</code>.</p>

<p><img src="/Race/assets/perception_screenshot.png" /></p>

<p>From the above image, the RED bounding boxes are obstacles; the green arcs are the milestones; the black line segments on the road are the current lane markers.</p>
</p>
  </div>
  
  <div>
      
      <h1>Decision and Control</h1>
      
      <p><p>The decision and control module is built by the competitors. Any pre-computations required must be provided by the competitors, and must run without additional effort from the competition hosts. The decision and control module must output the vehicle inputs required by the vehicle system (rostopics <code class="highlighter-rouge">ackermann_control</code> using message type <code class="highlighter-rouge">AckermannDrive</code> or <code class="highlighter-rouge">vehicle_control</code> using message type <code class="highlighter-rouge">CarleEgoVehicleControl</code>).</p>

<p>Our baseline decision and controller can be found in the file <code class="highlighter-rouge">Race/src/race/src/baseline.py</code>. 
The decision module determines what waypoint the vehicle should move to. If there is an obstacle in front of the vehicle, then the waypoint is chosen such that the vehicle can avoid it.
The controller module is a simple waypoint following controller. The competitors can use these modules as references for how to create their own controllers.</p>
</p>
  </div>
  
  <div>
      
      <h1>Vehicles</h1>
      
      <p><p>The final GRAIC race will be on several different vehicle models. We have provides several vehicle models with our initial release, but these vehicle models may changein the coming months. Competitors can participate in either the “model-agnostic” or the “model-based” options, or both.</p>

<h3 id="model-agnostic-option">Model-agnostic option</h3>
<p>In the model-agnostic category, vehicle physics is given by CARLA’s vehicle simulator. These are either 4-wheeled or 2-wheeled vehicles. Some basic information about these vehicles will be provided (such as the wheelbase). All the vehicles use the rostopics <code class="highlighter-rouge">ackermann_control</code> or <code class="highlighter-rouge">vehicle_control</code>.</p>

<h3 id="model-based-option">Model-based option</h3>
<p>In the model-based option, the vehicle will follow the dynamics detailed below. The exact parameter values for the model will be provided in the following weeks. The controller modules that competitors create will use the same <code class="highlighter-rouge">ackermann_control</code> or <code class="highlighter-rouge">vehicle_control</code> rostopics above.</p>

<h4 id="longitudinal-dynamics">Longitudinal dynamics</h4>

<script type="math/tex; mode=display">\dot{u} = a - f_1 u - f_2 u^{2} - f_3,</script>

<p>where $u$ is the forward velocity of the vehicle and \(a\) is the acceleration generated by the throttle input.</p>

<h4 id="lateral-dynamics">Lateral dynamics</h4>

<script type="math/tex; mode=display">% <![CDATA[
\begin{bmatrix} \dot{v}\\ \dot{r}
\end{bmatrix}=\begin{bmatrix}
-(C_{\alpha f}+ C_{\alpha r})/(mu) & (bC_{\alpha r}-aC_{\alpha f})/(mu) - u\\
(bC_{\alpha r} - aC_{\alpha f})/(I_z u) & -(a^2 C_{\alpha f} + b^2 C_{\alpha r}/(I_z u))
\end{bmatrix}\begin{bmatrix}
v\\r
\end{bmatrix}+\begin{bmatrix}
C_{\alpha f}/m \\ a C_{\alpha f}/I_{z}
\end{bmatrix}\delta_f %]]></script>

<p>where \(v\) and \(r\) are the lateral velocity and the second order derivative of the vehicle’s yaw angle, and \(\delta_{f}\) is the steering command.</p>

<p>\(f_1\), \(f_2\), \(f_3\), \(a\), \(b\), \(C_{ \alpha r}\), \(C_{ \alpha r}\), \(I_{z}\) and \(m\) are parameters corresponding to the vehicle. Please refer to the book “Automotive Control Systems” by A. Galip Ulsoy et al. for the physical interpretation of those parameters and the modeling details of the longitudinal and lateral dynamics.</p>
</p>
  </div>
  
  <div>
      
      <h1>Test environments and scoring</h1>
      
      <p><p>We are providing several test environments with tracks, other vehicles, pedestrians, and static obstacles that the vehicles must avoid. We are also providing a scoring function.
These test environments will be different than the ones used during the final race.</p>

<h1 id="evaluation">Evaluation</h1>

<p><em>We are yet to finalize the scoring function!</em></p>

<p>Roughly, the final will be calculated based on the average speed and completion time of the vehicle. There will be big penalties for hitting obstacles and running offtrack.</p>
</p>
  </div>
  
  <div>
      
      <h1>ROS messages</h1>
      
      <p><p>We have defined several ROS message type for the perception module to publish.</p>

<p><strong>BBInfo</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Bounding box Information
string type # Type of object within bounding box
string name # Name of the object
uint32 id # Id of the object
BBSingleInfo[] vertices_locations # List of locations of the vertices
</code></pre></div></div>

<p><strong>BBList</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Bounding box list
BBInfo[] bounding_box_vertices # List of BBInfo
</code></pre></div></div>

<p><strong>BBSingleInfo</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Information of a single bounding box vertex
geometry_msgs/Vector3 vertex_location
</code></pre></div></div>

<p><strong>EvaluationInfo</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Information about the evaluation of the current vehicle
int32 score # Instant score that the car has got
uint32 numObjectsHit # Number of objects the car has hit
</code></pre></div></div>

<p><strong>LaneInfo</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Information about a lane marker
geometry_msgs/Vector3 location # Location of the lane marker
geometry_msgs/Vector3 rotation # Rotation of the lane marker

uint32 lane_state # Identifier of the lane that this lane marker is on; this value should be one of the numbers below

uint32 LEFT_LANE=3
unit32 CENTER_LANE=4
uint32 RIGHT_LANE=5
</code></pre></div></div>

<p><strong>LaneList</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Lane marker list
LaneInfo[] lane_markers # A list of lane_markers
</code></pre></div></div>

<p><strong>LocationInfo</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Location information message type
string actor_name # Name of the actor(current car)
uint32 actor_id # ID of the actor(current car)
geometry_msgs/Vector3 location
geometry_msgs/Vector3 rotation
geometry_msgs/Vector3 velocity
</code></pre></div></div>

<p><strong>ObstacleInfo</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Information about the obstacle
string obstacle_name # Name of the obstacle
uint32 obstacle_id # ID of the obstacle
geometry_msgs/Vector3 location
BBSingleInfo[] vertices_locations # Bounding box of the obstacle
</code></pre></div></div>

<p><strong>ObstacleList</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># List of the obstacles
ObstacleInfo[] obstacles
</code></pre></div></div>
</p>
  </div>
  
</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">GRAIC</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        <a href="/">Home</a>
				
	

	
	<li class="nav-link"><a href="/docs/">Docs</a>
	

	
	<li class="nav-link"><a href="/installation/">Getting Started</a>
	

	
	<li class="nav-link"><a href="/outreach/">Outreach</a>
	

	
	<li class="nav-link"><a href="/about/">About</a>
	

	

	

	

	

	

	

	

	

	

	

	

	

	


      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:graic2021@gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">graic2021@gmail.com</span>
          </a>
        </li>

        
          
        
          
        
          
          <li>
            <a href="https://github.com/PoPGRI" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">PoPGRI</span>
            </a>
          </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

      </ul>
    </div>

    <div class="site-signature">
      <!-- <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p> -->
      <p class="text">Generalized RAcing Intelligence Competition (GRAIC), is a synthesis competition for intelligent racing.
</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/js/lightbox.min.js"></script>
<script src="//unpkg.com/popper.js@1"></script>
<script src="//unpkg.com/tippy.js@5"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });

	// Enable tooltips via Tippy.js
	if (Array.isArray(window.tooltips)) {
		window.tooltips.forEach(function(tooltip) {
			var selector = tooltip[0];
			var config = tooltip[1];
			tippy(selector, config);
		})
	}
});

</script>






  </body>

</html>
